<section class="d-flex justify-content-between align-content-center py-5">
  <h5 class="default-title">Decommissioned</h5>
  <button type="button" class="addNew bg-primary text-white rounded-3" data-bs-toggle="modal"
    data-bs-target="#newAssetModal">
    <svg class="me-1" width="19" height="16" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M9.50223 0.855469C10.1334 0.855469 10.6451 1.36714 10.6451 1.99833V8.85547H17.5022C18.1334 8.85547 18.6451 9.36714 18.6451 9.99833C18.6451 10.6295 18.1334 11.1412 17.5022 11.1412H10.6451V17.9983C10.6451 18.6295 10.1334 19.1412 9.50223 19.1412C8.87105 19.1412 8.35937 18.6295 8.35937 17.9983V11.1412H1.50223C0.87105 11.1412 0.359375 10.6295 0.359375 9.99833C0.359375 9.36714 0.87105 8.85547 1.50223 8.85547H8.35937V1.99833C8.35937 1.36714 8.87105 0.855469 9.50223 0.855469Z"
        fill="white" />
    </svg>
    <span>Decommission</span>
  </button>
</section>

<section>
  <fms-asset-table></fms-asset-table>
</section>


<div class="modal fade" id="newAssetModal" aria-hidden="true" aria-labelledby="newAssetModalLabel" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <h5 class="modal-title new-asset" id="newAssetModalLabel">Asset</h5>
          <p>Select the decommissioned asset category to continue</p>

          <section class="d-flex justify-content-center align-content-center">
            <section role="button" data-bs-target="#assetSelectionModal" data-bs-toggle="modal" data-bs-dismiss="modal">
              <img src="assets/img/decom-vehicle.png" alt="Vehicle">
            </section>
            <section role="button" data-bs-target="#assetSelectionModal" data-bs-toggle="modal" data-bs-dismiss="modal">
              <img src="assets/img/decom-motorcycle.png" alt="Vehicle">
            </section>
          </section>

        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <!-- data-bs-dismiss="modal" -->
        <button type="button" class="btn text-uppercase fms-btn__close" data-bs-target="#exampleModalToggle2"
          data-bs-toggle="modal" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary text-uppercase fms-btn__save" data-bs-target="#assetSelectionModal"
          data-bs-toggle="modal" data-bs-dismiss="modal">Next</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2"
  tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <h5 class="modal-title" id="exampleModalToggleLabel2">Modal 2</h5> -->
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <section class="text-center">
          <svg class="justify-content-center" width="100" height="100" viewBox="0 0 136 136" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_dd_1277_5524)">
              <rect x="8" y="4" width="120" height="120" rx="50" fill="white" />
            </g>
            <path
              d="M54.2745 52.93C54.2677 53.0915 54.2939 53.2526 54.3517 53.4036C54.4094 53.5545 54.4974 53.6921 54.6103 53.8077C54.7231 53.9234 54.8585 54.0148 55.008 54.0762C55.1574 54.1377 55.3179 54.1679 55.4795 54.165H59.6045C60.2945 54.165 60.8445 53.6 60.9345 52.915C61.3845 49.635 63.6345 47.245 67.6445 47.245C71.0745 47.245 74.2145 48.96 74.2145 53.085C74.2145 56.26 72.3445 57.72 69.3895 59.94C66.0245 62.385 63.3595 65.24 63.5495 69.875L63.5645 70.96C63.5697 71.288 63.7038 71.6009 63.9376 71.831C64.1715 72.0611 64.4864 72.19 64.8145 72.19H68.8695C69.201 72.19 69.519 72.0583 69.7534 71.8239C69.9878 71.5895 70.1195 71.2715 70.1195 70.94V70.415C70.1195 66.825 71.4845 65.78 75.1695 62.985C78.2145 60.67 81.3895 58.1 81.3895 52.705C81.3895 45.15 75.0095 41.5 68.0245 41.5C61.6895 41.5 54.7495 44.45 54.2745 52.93ZM62.0595 81.745C62.0595 84.41 64.1845 86.38 67.1095 86.38C70.1545 86.38 72.2495 84.41 72.2495 81.745C72.2495 78.985 70.1495 77.045 67.1045 77.045C64.1845 77.045 62.0595 78.985 62.0595 81.745Z"
              fill="#F2B05C" />
            <defs>
              <filter id="filter0_dd_1277_5524" x="0" y="0" width="136" height="136" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha" />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="4" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0.18 0" />
                <feBlend mode="multiply" in2="BackgroundImageFix" result="effect1_dropShadow_1277_5524" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha" />
                <feOffset dy="2" />
                <feGaussianBlur stdDeviation="2" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0.18 0" />
                <feBlend mode="multiply" in2="effect1_dropShadow_1277_5524" result="effect2_dropShadow_1277_5524" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_1277_5524" result="shape" />
              </filter>
            </defs>
          </svg>
        </section>


        <p class="text-center confirm-title">Confirm</p>
        <p class="text-center confirm-desc">Are you sure you want to continue</p>
      </div>
      <div class="modal-footer justify-content-center">
        <!-- data-bs-dismiss="modal" -->
        <button type="button" class="btn text-uppercase fms-btn__close confirm-btn" data-bs-target="#newAssetModal"
          data-bs-toggle="modal" data-bs-dismiss="modal">No, cancel</button>
        <button type="button" class="btn btn-primary text-uppercase fms-btn__save confirm-btn"
          data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" data-bs-dismiss="modal">Yes, continue</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModalToggle3" aria-hidden="true" aria-labelledby="exampleModalToggleLabel3"
  tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <!-- <h5 class="modal-title" id="exampleModalToggleLabel2">Modal 2</h5> -->
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <section class="text-center">
          <svg width="100" height="100" viewBox="0 0 136 136" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g filter="url(#filter0_dd_1277_5524)">
              <rect x="8" y="4" width="120" height="120" rx="50" fill="white" />
            </g>
            <path
              d="M59.381 75.9526L46.048 62.6189L41.334 67.333L59.381 85.3807L96.0475 48.7141L91.3335 44L59.381 75.9526Z"
              fill="#1F8B24" />
            <defs>
              <filter id="filter0_dd_1277_5524" x="0" y="0" width="136" height="136" filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha" />
                <feOffset dy="4" />
                <feGaussianBlur stdDeviation="4" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0.18 0" />
                <feBlend mode="multiply" in2="BackgroundImageFix" result="effect1_dropShadow_1277_5524" />
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  result="hardAlpha" />
                <feOffset dy="2" />
                <feGaussianBlur stdDeviation="2" />
                <feColorMatrix type="matrix" values="0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0 0.380392 0 0 0 0.18 0" />
                <feBlend mode="multiply" in2="effect1_dropShadow_1277_5524" result="effect2_dropShadow_1277_5524" />
                <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_1277_5524" result="shape" />
              </filter>
            </defs>
          </svg>
        </section>
        <p class="text-center confirm-title">Success</p>
        <p class="text-center confirm-desc">New asset has beed added successfully</p>
      </div>
      <div class="modal-footer justify-content-center">
        <!-- data-bs-dismiss="modal" -->
        <button type="button" class="btn text-uppercase fms-btn__close" data-bs-target="#newAssetModal"
          data-bs-toggle="modal" data-bs-dismiss="modal">Create another</button>
        <button type="button" class="btn btn-primary text-uppercase fms-btn__save bg-success"
          data-bs-target="#exampleModalToggle3" data-bs-toggle="modal" data-bs-dismiss="modal">Continue</button>
      </div>
    </div>
  </div>
</div>

<!-- Decommission -->

<div class="modal fade" id="assetSelectionModal" aria-hidden="true" aria-labelledby="assetSelectionModalLabel"
  tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <h5 class="modal-title new-asset" id="assetSelectionModalLabel">Assign New User</h5>
          <div>
            <button [ngClass]="{'fms-btn__selected': tabIndex === i}" class="fms-btn__plain"
              (click)="filterUsersByFirstLetter($event)" *ngFor="let alphabet of alphabets; let i = index"
              [id]="i">{{alphabet}}</button>
          </div>
          <form>
            <div class="row">
              <div class="col-md-12">
                <div class="input-group mb-3">
                  <span class="input-group-text" id="search">
                    <svg width="14" height="15" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M4.46875 8.75C6.55708 8.75 8.25 7.05708 8.25 4.96875C8.25 2.88042 6.55708 1.1875 4.46875 1.1875C2.38042 1.1875 0.6875 2.88042 0.6875 4.96875C0.6875 7.05708 2.38042 8.75 4.46875 8.75ZM8.9375 4.96875C8.9375 7.43677 6.93677 9.4375 4.46875 9.4375C2.00073 9.4375 0 7.43677 0 4.96875C0 2.50073 2.00073 0.5 4.46875 0.5C6.93677 0.5 8.9375 2.50073 8.9375 4.96875Z"
                        fill="#7A828A" />
                      <path
                        d="M7.11142 8.57274C7.1317 8.60023 7.15428 8.62655 7.17917 8.65144L9.82637 11.2986C10.0949 11.5671 10.5302 11.5671 10.7986 11.2986C11.0671 11.0302 11.0671 10.5949 10.7986 10.3264L8.15144 7.67917C8.12655 7.65428 8.10023 7.6317 8.07274 7.61142C7.80305 7.9786 7.4786 8.30305 7.11142 8.57274Z"
                        fill="#7A828A" />
                    </svg>
                  </span>
                  <input type="text" class="form-control form-input" placeholder="Search" aria-label="search"
                    aria-describedby="search">
                </div>

              </div>
            </div>
          </form>
          <section class="user-selection-table">
            <table class="table align-items-center">
              <thead>
                <tr>
                  <th *ngFor="let decomHeader of decomHeaders" scope="col">
                    {{decomHeader}}
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr (click)="setSelectedUser(decomAsset)" role="button" data-bs-target="#decommissionAssetModal"
                  data-bs-toggle="modal" data-bs-dismiss="modal" *ngFor=" let decomAsset of decomAssets; let i=index"
                  class="text-dark user-row cursor-pointer">
                  <td class="p-3">{{i+1}}</td>
                  <td class="p-3">{{decomAsset.assetId}}</td>
                  <td class="p-3">{{decomAsset.brand}}</td>
                  <td class="p-3">{{decomAsset.model}}</td>
                  <td class="p-3">{{decomAsset.manufacturedYear}}</td>
                  <td class="p-3">{{decomAsset.plateNumber}}</td>
                </tr>
              </tbody>
            </table>
          </section>
        </div>
      </div>
      <div class="modal-footer justify-content-end me-2">
        <button type="button" class="btn text-uppercase fms-btn__close" data-bs-target="#assignModal"
          data-bs-toggle="modal" data-bs-dismiss="modal">Back</button>
        <button type="button" class="btn btn-primary text-uppercase fms-btn__save"
          data-bs-target="#decommissionAssetModal" data-bs-toggle="modal" data-bs-dismiss="modal">Next</button>
      </div>
    </div>
  </div>
</div>

<!-- Decommission -->

<div class="modal fade" id="decommissionAssetModal" aria-hidden="true" aria-labelledby="decommissionAssetModalLabel"
  tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container-fluid">
          <h5 class="modal-title new-asset" id="decommissionAssetModalLabel">Decommission Asset</h5>
          <form class="mt-4">
            <div class="row mb-4">
              <div class="col-md-12">
                <div class="textOnInput">
                  <input class="form-control" disabled type="text" value="Mitsubishi Pajero 2009">
                </div>
              </div>
              <div class="col-md-12 mt-4">
                <div class="textOnInput">
                  <label for="inputText">Reason for decommissioning</label>
                  <input class="form-control py-4 decom"
                    value="Please explain the reason(s) for decommissioning this asset" type="text" placeholder="Enter">
                </div>
              </div>
              <div class="col-md-12">
                <div class="mt-4 check-container">
                  <input type="checkbox" class="form-check-input" id="decommission">
                  <label class="form-check-label" for="decommission"><span
                      class="decommission-check">Decommissioning</span> a vehicle is irreversible and cannot be undone.
                    Please tick the box to confirm this action.</label>
                </div>
              </div>
            </div>

          </form>
        </div>
      </div>
      <div class="modal-footer justify-content-center">
        <!-- data-bs-dismiss="modal" -->
        <button type="button" class="btn text-uppercase fms-btn__close" data-bs-target="#exampleModalToggle2"
          data-bs-toggle="modal" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary text-uppercase fms-btn__save" data-bs-target="#exampleModalToggle3"
          data-bs-toggle="modal" data-bs-dismiss="modal">Decommission</button>
      </div>
    </div>
  </div>
</div>
